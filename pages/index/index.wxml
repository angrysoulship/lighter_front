<view class="container">

    <!-- CalendarView -->
    <view class="calendarView" wx:if="{{step == 1}}">
      <view class="viewBtns">
        <image class="viewIcon" bindtap="getCalendarView" src="/images/calendar.png" mode="aspectFill">1</image>
        <image class="viewIcon" bindtap="getListsView" src="/images/lists.png" mode="aspectFill">2</image>
      </view>

      <!-- <view class="calendarCard">
        <text>2021</text>
        <text>8月</text>
        <view class="dateCircle">
          <view class=""></view>
        </view>
      </view> -->
      <!-- 打卡日历页面 -->
      <view class='all'>
        <view class="bar">
          <!-- 上一个月 -->
          <view class="previous" bindtap="handleCalendar" data-handle="prev">
            <image src='/images/pre.png'></image>
          </view>
          <!-- 显示年月 -->
          <view class="date">{{cur_year || "--"}} 年 {{cur_month || "--"}} 月</view>
          <!-- 下一个月 -->
          <view class="next" bindtap="handleCalendar" data-handle="next">
            <image src='/images/next.png'></image>
          </view>
        </view>
        <!-- 显示星期 -->
        <view class="week">
          <view wx:for="{{weeks_ch}}" wx:key="{{index}}" data-idx="{{index}}">{{item}}</view>
        </view>
        <view class='days'>
          <!-- 列 -->
          <view class="columns" wx:for="{{days.length/7}}" wx:for-index="i" wx:key="i">
            <view wx:for="{{days}}" wx:for-index="j" wx:key="j">
              <!-- 行 -->
              <view class="rows" wx:if="{{j/7 == i}}">
                <view class="rows" wx:for="{{7}}" wx:for-index="k" wx:key="k">
                  <!-- 每个月份的空的单元格 -->
                  <view class='cell' wx:if="{{days[j+k].date == null}}">
                    <text decode="{{true}}">&nbsp;&nbsp;</text>
                  </view>
                  <!-- 每个月份的有数字的单元格 -->
                  <view class='cell' wx:else>
                    <!-- 当前日期已签到 -->
                    <view wx:if="{{days[j+k].isSign == true}}" style='background-color:#83C75D' class='cell'>
                      <text>{{days[j+k].date}}</text>
                    </view>
                    <!-- 当前日期未签到 -->
                    <view wx:else>
                      <text>{{days[j+k].date}}</text>
                    </view>
                  </view>
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>
      
    </view>
    <!-- CalendarView -->

    <!-- ListsView -->
    <view class="listsView" wx:if="{{step == 0}}">
      <view class="viewBtns">
        <image class="viewIcon" bindtap="getCalendarView" src="/images/calendar.png" mode="aspectFill"></image>
        <image class="viewIcon" bindtap="getListsView" src="/images/lists.png" mode="aspectFill"></image>
      </view>

      <view class="listsCards">
        <!-- cardComponent,need to add loops -->
        <view class="card">
          <view class="cardBody">
            <view class="dateAndWeather">
              <text>8月1日</text>
              <text>晴</text>
            </view>
            <image class="emojiImage" src="https://projectlighter.oss-cn-shenzhen.aliyuncs.com/emojiOnly/sereneEmoji.png" mode="aspectFill"></image>
            <view class="EmojiLabel"> 平静 </view>
          </view>
          <view class="cardEdits">
            <image class="editIcon" bindtap="" src="/images/edit.png" mode="aspectFill">1</image>
            <image class="editIcon" bindtap="" src="/images/delete.png" mode="aspectFill">1</image>
          </view>
        </view>
        <!-- cardComponent,need to add loops -->
        <!-- cardComponent,need to add loops -->
        <view class="card">
          <view class="cardBody">
            <view class="dateAndWeather">
              <text>7月29日</text>
              <text>晴</text>
            </view>
            <image class="emojiImage" src="https://projectlighter.oss-cn-shenzhen.aliyuncs.com/emojiOnly/tiredEmoji.png" mode="aspectFill"></image>
            <view class="EmojiLabel"> 累了 </view>
          </view>
          <view class="cardEdits">
            <image class="editIcon" bindtap="" src="/images/edit.png" mode="aspectFill">1</image>
            <image class="editIcon" bindtap="" src="/images/delete.png" mode="aspectFill">1</image>
          </view>
        </view>
        <!-- cardComponent,need to add loops -->
      </view>

    </view>
    <!-- ListsView -->
</view>

<view>
  <button bindtap="getUserProfile">Login</button>
</view>


